(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{8352:function(a,b,c){"use strict";c.d(b,{Z:function(){return B}});var d=c(5893),e=c(9008),f=c.n(e),g=c(8826),h=c.n(g),i=c(1664),j=c.n(i),k=c(7568),l=c(4051),m=c.n(l),n=c(7294),o=c(4032),p=c.n(o),q=c(1345),r=c(9857),s=new r._k({supportedChainIds:[1,3,4,5,42]}),t=c(9669),u=c.n(t),v=c(129),w=c.n(v),x=c(9473),y=c(7867),z=function(a){var b,c=function(){t(!r)},e=function(a){A(a)},f=function(){R((0,y.nQ)({state:!0,msg:"Syncing your personal information..."})),u().post("/api/hug/createProfile",w().stringify({profileImage:C,name:F,email:I,twitter:L,about:O}),{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then(function(a){e(!1),R((0,y.nQ)(!1))}).catch(function(a){})},g=(0,q.Ge)(),h=(g.active,g.account,g.library,g.connector,g.activate),i=g.deactivate,l="",o=(0,n.useState)(!1),r=o[0],t=o[1],v=(0,n.useState)(!1),z=v[0],A=v[1],B=(0,n.useState)(""),C=B[0],D=B[1],E=(0,n.useState)(""),F=E[0],G=E[1],H=(0,n.useState)(""),I=H[0],J=H[1],K=(0,n.useState)(""),L=K[0],M=K[1],N=(0,n.useState)(""),O=N[0],P=N[1],Q=(0,x.v9)(function(a){return a}),R=(0,x.I0)(),S=(b=(0,k.Z)(m().mark(function a(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:u().get("/api/hug/getUserInfo?address=0x5e79bBA16F80C5B290F1d6CF661Fbc22F57Bcb95",{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then(function(a){console.log(a),e(!0)}).catch(function(a){});case 1:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});function T(a){return U.apply(this,arguments)}function U(){return(U=(0,k.Z)(m().mark(function a(b){var d,f;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.stopPropagation(),a.prev=1,a.next=4,h(s);case 4:return d=new Date().getTime().toString().slice(0,new Date().getTime().toString().length-3),a.next=7,ethereum.request({method:"eth_requestAccounts"});case 7:return f=a.sent,a.next=10,ethereum.request({method:"personal_sign",params:["login dateTime "+d,f[0]]}).then(function(){var a=(0,k.Z)(m().mark(function a(b){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=b.slice(2,b.length),a.next=3,R((0,y.oA)(f[0]));case 3:return a.next=5,c(!1);case 5:return a.next=7,Y();case 7:return a.next=9,S();case 9:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){V(),e(!1),R((0,y.oA)(""))});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}},a,null,[[1,12]])}))).apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return(W=(0,k.Z)(m().mark(function a(){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{i(),e(!1)}catch(b){console.log(b)}case 1:case"end":return a.stop()}},a)}))).apply(this,arguments)}var X,Y=(X=(0,k.Z)(m().mark(function a(){var b;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b={address:"0x5e79bBA16F80C5B290F1d6CF661Fbc22F57Bcb95",timestamp:new Date().getTime().toString().slice(0,new Date().getTime().toString().length-3),signature:l,sigType:""},document.cookie="jwt="+l,a.next=4,u().post("/api/hug/login",w().stringify(b),{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then(function(a){e(!0)}).catch(function(a){});case 4:case"end":return a.stop()}},a)})),function(){return X.apply(this,arguments)}),Z=function(a){var b,c=new FormData;c.append("pic",a.target.files[0]),R((0,y.nQ)({state:!0,msg:"Uploading your profile picture now..."})),u().post("/api/fs/profileImageUpload",c,{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((b=(0,k.Z)(m().mark(function a(b){return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(JSON.parse(b.data.resultBody).Url);case 2:R((0,y.nQ)(!1));case 3:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)})).catch(function(a){})},$=function(){e(!1)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:p().header,children:[(0,d.jsxs)("div",{className:p().bottom,children:[(0,d.jsx)("div",{className:p().logo,children:(0,d.jsx)("img",{src:"/images/logo.png"})}),(0,d.jsxs)("div",{className:p().nav,children:[(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(j(),{href:"/",children:"Home"})}),(0,d.jsx)("li",{children:(0,d.jsx)(j(),{href:"/thoughts",children:"Thoughts"})}),(0,d.jsx)("li",{children:""!=Q.user.account?(0,d.jsx)(j(),{href:"/my",children:"My"}):(0,d.jsx)("a",{onClick:T,children:"My"})}),(0,d.jsx)("li",{children:"Clans"}),(0,d.jsx)("li",{children:"Squares"})]}),""!=Q.user.account?(0,d.jsxs)("div",{className:p().address_box,children:[(0,d.jsx)("b",{children:"".concat(Q.user.account.slice(0,4),"....").concat(Q.user.account.slice(Q.user.account.length-4,Q.user.account.length))}),(0,d.jsx)("button",{className:"btn small",onClick:V,children:(0,d.jsx)("i",{className:"iconfont icon-duankai"})})]}):(0,d.jsxs)("button",{className:"btn",onClick:c,children:[(0,d.jsx)("i",{className:"iconfont icon-licai"}),"Connect Wallet"]})]})]}),(0,d.jsx)("div",{className:"mask animate__animated animate__fadeIn animate__faster ".concat(r?"show":""),onClick:c,children:(0,d.jsxs)("div",{className:p().wallet_list,children:[(0,d.jsx)("p",{className:p().title,children:(0,d.jsx)("strong",{children:"Sign Up / Log In"})}),(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{onClick:T,children:[(0,d.jsx)("img",{src:"/images/icn-metamask.svg"}),"Meta Mask"]}),(0,d.jsxs)("li",{children:[(0,d.jsxs)("svg",{"aria-labelledby":"wallet-connect-logo",fill:"none",height:"100%",viewBox:"0 0 164 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{id:"wallet-connect-logo",children:"Wallet Connect Logo"}),(0,d.jsx)("path",{d:"M33.4018 19.5383C60.0094 -6.51275 103.149 -6.51275 129.756 19.5383L132.959 22.6735C134.289 23.9761 134.289 26.0879 132.959 27.3905L122.004 38.1157C121.339 38.7669 120.261 38.7669 119.595 38.1157L115.189 33.8011C96.6266 15.6273 66.5315 15.6273 47.9694 33.8011L43.2502 38.4216C42.585 39.0729 41.5065 39.0729 40.8413 38.4216L29.887 27.6965C28.5567 26.3939 28.5567 24.2821 29.887 22.9795L33.4018 19.5383ZM152.411 41.719L162.16 51.2645C163.49 52.567 163.49 54.6789 162.16 55.9814L118.2 99.0231C116.869 100.326 114.712 100.326 113.382 99.0231C113.382 99.0231 113.382 99.0231 113.382 99.0231L82.1815 68.4752C81.8489 68.1495 81.3096 68.1495 80.977 68.4752C80.977 68.4752 80.977 68.4752 80.977 68.4752L49.7772 99.0231C48.4469 100.326 46.2899 100.326 44.9595 99.0231C44.9595 99.0231 44.9595 99.0231 44.9595 99.0231L0.997783 55.9809C-0.332594 54.6783 -0.332594 52.5665 0.997783 51.2639L10.7471 41.7185C12.0775 40.4159 14.2345 40.4159 15.5649 41.7185L46.7658 72.2668C47.0984 72.5925 47.6376 72.5925 47.9702 72.2668C47.9702 72.2668 47.9702 72.2668 47.9702 72.2668L79.1696 41.7185C80.4999 40.4159 82.6569 40.4159 83.9873 41.7184C83.9873 41.7184 83.9873 41.7184 83.9874 41.7184L115.188 72.2668C115.521 72.5924 116.06 72.5924 116.393 72.2668L147.593 41.719C148.923 40.4165 151.08 40.4165 152.411 41.719Z",fill:"#3B99FC"})]}),"Wallet Connect"]})]})]})}),(0,d.jsx)("div",{className:"mask animate__animated animate__fadeIn animate__faster ".concat(z?"show":""),children:(0,d.jsxs)("div",{className:p().set_your_profile,children:[Q.user.account,(0,d.jsxs)("div",{className:p().text_box,children:[(0,d.jsx)("p",{className:p().sub_title,children:"Complete your Profile"}),(0,d.jsx)("p",{className:p().tips,children:"Create your identity in Hug.Land"})]}),(0,d.jsx)("div",{className:p().text_box,children:(0,d.jsxs)("div",{className:p().input_box,children:[(0,d.jsxs)("p",{className:p().input_title,children:[(0,d.jsx)("strong",{children:"Profile Image"}),(0,d.jsx)("span",{className:"float_right ".concat(p().optional),children:"Optional"})]}),(0,d.jsx)("p",{className:p().tips,children:"Upload your profile pic to use in Hug"}),(0,d.jsx)("div",{className:p().avatar_box,style:{backgroundImage:'url("'.concat(C||"/images/single_logo.png",'")'),backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:(0,d.jsx)("input",{className:p().input_file,type:"file",accept:"image/png, image/jpeg",onChange:function(a){Z(a)}})})]})}),(0,d.jsx)("div",{className:p().text_box,children:(0,d.jsxs)("div",{className:p().input_box,children:[(0,d.jsxs)("p",{className:p().input_title,children:[(0,d.jsx)("strong",{children:"Name"}),(0,d.jsx)("span",{className:"float_right ".concat(p().required),children:"Required"})]}),(0,d.jsx)("p",{className:p().tips,children:"Choose a username you want to represent yourself with"}),(0,d.jsx)("input",{type:"text",value:F,onChange:function(a){G(a.target.value)}})]})}),(0,d.jsx)("div",{className:p().text_box,children:(0,d.jsxs)("div",{className:p().input_box,children:[(0,d.jsxs)("p",{className:p().input_title,children:[(0,d.jsx)("strong",{children:"Email"}),(0,d.jsx)("span",{className:"float_right ".concat(p().optional),children:"+500 pts, Optional"})]}),(0,d.jsx)("p",{className:p().tips,children:"Upload your profile pic to use in Hug"}),(0,d.jsx)("input",{type:"text",value:I,onChange:function(a){J(a.target.value)}})]})}),(0,d.jsx)("div",{className:p().text_box,children:(0,d.jsxs)("div",{className:p().input_box,children:[(0,d.jsxs)("p",{className:p().input_title,children:[(0,d.jsx)("strong",{children:"Twitter"}),(0,d.jsx)("span",{className:"float_right ".concat(p().optional),children:"+500 pts, Optional"})]}),(0,d.jsx)("p",{className:p().tips,children:"We will use emails to send notifications about activity in your Hug Space"}),(0,d.jsx)("input",{type:"text",value:L,onChange:function(a){M(a.target.value)}})]})}),(0,d.jsx)("div",{className:p().text_box,children:(0,d.jsxs)("div",{className:p().input_box,children:[(0,d.jsxs)("p",{className:p().input_title,children:[(0,d.jsx)("strong",{children:"About"}),(0,d.jsx)("span",{className:"float_right ".concat(p().optional),children:"Optional"})]}),(0,d.jsx)("p",{className:p().tips,children:"Add a bit of introduction about yourself"}),(0,d.jsx)("input",{type:"text",value:O,onChange:function(a){P(a.target.value)}})]})}),(0,d.jsxs)("div",{className:"button_list ".concat(p().button_list),children:[""!=F?(0,d.jsx)("button",{className:"btn big yellow",onClick:f,children:"Create Account"}):(0,d.jsx)("button",{className:"btn big gray",children:"Create Account"}),(0,d.jsx)("button",{className:"btn big red",onClick:$,children:"Cancel"})]})]})})]})})};function A(a){a.children,a.home;var b=(0,x.v9)(function(a){return a});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"loading-mask animate__animated animate__fadeIn",children:(0,d.jsxs)("div",{className:"gif",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{}),(0,d.jsx)("span",{}),(0,d.jsx)("span",{}),(0,d.jsx)("span",{}),(0,d.jsx)("span",{})]}),(0,d.jsx)("p",{children:b.user.loading.msg})]})})})}function B(a){var b=a.children;a.home;var c=(0,x.v9)(function(a){return a});return(0,d.jsxs)("div",{className:h().container_border,children:[c.user.loading?(0,d.jsx)(A,{}):"",(0,d.jsxs)("div",{className:h().container,children:[(0,d.jsx)(f(),{children:(0,d.jsx)("link",{rel:"stylesheet",href:"https://at.alicdn.com/t/c/font_3624132_j49k5sm0gp.css"})}),(0,d.jsx)(z,{}),(0,d.jsx)("main",{children:b})]})]})}c(3795)},4032:function(a){a.exports={header:"header_header__GSKJx",logo:"header_logo__d4jIK",user_info:"header_user_info___8UQd",nav:"header_nav__zbhEe",address_box:"header_address_box__o861N",wallet_list:"header_wallet_list__HE4Ow",title:"header_title__Q14Kw",set_your_profile:"header_set_your_profile__ZAelk",text_box:"header_text_box__7jqfr",sub_title:"header_sub_title__Lw9nO",input_box:"header_input_box__j3nLZ",input_title:"header_input_title__KDFgn",optional:"header_optional__FvwTV",required:"header_required__1LIYh",avatar_box:"header_avatar_box__z_6Sy",input_file:"header_input_file__oW9cH",tips:"header_tips__3_Rer",button_list:"header_button_list__nS93X"}},8826:function(a){a.exports={container_border:"layout_container_border__WCNiX",container:"layout_container__B_Rgx"}},4654:function(){}}])